.container {
    @apply flex flex-col h-screen bg-gray-100;
}

.header {
    @apply bg-white py-7 px-7 flex items-center border-b border-gray-200 sticky top-0 z-10 relative;
}

.backButton {
    @apply p-2 rounded-full hover:bg-gray-100 text-gray-700 absolute left-4;
}

.storeName {
    @apply text-lg font-medium text-gray-800 w-full text-center truncate;
}

.messageContainer {
    @apply flex-1 p-4 overflow-y-auto space-y-4 pb-6;
}

.message {
    @apply flex mb-4 max-w-xs;
    width: fit-content; /* 컨텐츠에 맞게 너비 조정 */
}

.userMessage {
    @apply ml-auto justify-end; /* 오른쪽 정렬을 위해 justify-end 추가 */
    flex-direction: row-reverse; /* 사용자 메시지는 요소 순서를 반대로 */
}

.botMessage {
    @apply mr-auto;
}

.errorMessage .messageText {
    @apply bg-red-50 text-red-600;
}

.botAvatar {
    @apply w-10 h-10 mr-2 flex-shrink-0 rounded-full overflow-hidden bg-gray-200;
}

.avatarImage {
    @apply w-full h-full object-cover;
}

.hidden {
    display: none;
}

.messageContent {
    @apply flex flex-col;
    max-width: 100%; /* 내용이 넘치지 않도록 */
}

.messageText {
    @apply p-3 rounded-lg;
}

.userMessage .messageText {
    @apply bg-yellow-500 text-white rounded-t-lg rounded-bl-lg;
    align-self: flex-end; /* Flex 컨테이너 내에서 끝(오른쪽)에 정렬 */
}

.botMessage .messageText {
    @apply bg-gray-200 text-gray-800 rounded-t-lg rounded-br-lg;
}

.messageTime {
    @apply text-xs text-gray-500 mt-1;
}

.userMessage .messageTime {
    @apply text-right;
}

.inputContainer {
    @apply p-4 bg-white border-t border-gray-200 flex items-center sticky bottom-0;
}

.messageInput {
    @apply flex-1 p-3 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-yellow-500;
}

.sendButton {
    @apply p-3 ml-2 rounded-full bg-yellow-500 text-white;
}

.sendButton.disabled {
    @apply bg-gray-300 cursor-not-allowed;
}

.loadingContainer, .errorContainer {
    @apply flex flex-col items-center justify-center h-full;
}

.loading {
    @apply text-gray-500 animate-pulse;
}

.error {
    @apply text-red-500 mb-4 text-center;
}

.retryButton {
    @apply px-4 py-2 bg-yellow-500 text-white rounded-md hover:bg-yellow-600 transition-colors;
}


@keyframes bounce {
    0%, 80%, 100% {
        transform: scale(0);
    }
    40% {
        transform: scale(1.0);
    }
}

.cursor {
    display: inline-block;
    width: 2px;
    height: 1em;
    background-color: currentColor;
    margin-left: 2px;
    animation: blink 1s infinite;
}

@keyframes blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0; }
}

.avatarPlaceholder {
    width: 100%;
    height: 100%;
    background-color: #e5e7eb; /* gray-200 */
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    border-radius: 9999px; /* rounded-full */
}

@keyframes pulse {
    0%, 100% {
        opacity: 1;
    }
    50% {
        opacity: .5;
    }
}

/* 타이핑 인디케이터 스타일 개선 */
.typingIndicator {
    display: flex;
    align-items: center;
    gap: 4px;
    padding: 8px;
    margin-top: 4px;
    border-radius: 0.5rem;
    background-color: #f3f4f6; /* gray-100 */
}

.typingIndicator span {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background-color: #9ca3af; /* gray-400 */
    animation: bounce 1.4s infinite ease-in-out both;
}

.typingIndicator span:nth-child(1) {
    animation-delay: -0.32s;
}

.typingIndicator span:nth-child(2) {
    animation-delay: -0.16s;
}

/* 기본 마크다운 스타일 */
.markdownContent {
  @apply break-words whitespace-normal leading-relaxed text-sm;
}

/* 블록 레벨 요소 기본 간격 */
.markdownContent > p,
.markdownContent > h4,
.markdownContent > ul,
.markdownContent > ol,
.markdownContent > blockquote,
.markdownContent > hr,
.markdownContent > .info-item {
  @apply my-1.5;
}

.markdownContent > :first-child {
  @apply mt-0;
}

.markdownContent > :last-child {
  @apply mb-0;
}

/* 가게 정보 컨테이너 */
.markdownContent .store-info-container {
  @apply bg-gray-50 rounded-md p-3 space-y-1.5 border-l-2 border-gray-300;
}

/* 가게 제목 */
.markdownContent .store-title {
  @apply text-base font-bold mb-2 text-gray-800 border-b border-gray-200 pb-1.5;
}

/* 정보 섹션 */
.markdownContent .store-info-section {
  @apply space-y-1 mb-3;
}

/* 가게 정보 항목 */
.markdownContent .store-info-item {
  @apply flex flex-wrap items-baseline mb-1 border-b border-gray-100 pb-1 last:border-b-0;
}

.markdownContent .store-info-key {
  @apply font-semibold mr-1.5 text-gray-700 min-w-[60px];
}

.markdownContent .store-info-value {
  @apply text-gray-800;
}

/* 메뉴 섹션 */
.markdownContent .menu-section {
  @apply mt-2 pt-2 border-t border-gray-200;
}

.markdownContent .menu-section-title {
  @apply font-semibold text-sm text-gray-700 mb-2;
}

/* 메뉴 리스트 - 중요: 줄바꿈 강제 적용 */
.markdownContent .menu-list {
  @apply space-y-2 mb-2;
}

.markdownContent .menu-list.forced-break {
  @apply flex flex-col; /* 컬럼 형태로 강제 배치 */
}

.markdownContent .menu-item {
  @apply flex flex-col mb-2 pl-4 relative border-b border-gray-100 pb-2 last:border-b-0;
  /* display: flex;
  flex-direction: column; /* 메뉴명과 가격을 세로로 배치 */
}

.markdownContent .menu-item::before {
  content: "•";
  @apply absolute left-0 top-0 text-gray-500;
}

.markdownContent .menu-name {
  @apply font-medium text-gray-800 mb-1;
}

.markdownContent .menu-details {
  @apply flex flex-wrap gap-2;
}

.markdownContent a {
  @apply underline text-blue-600;
}

.markdownContent .hashtag {
  @apply font-medium text-indigo-600;
}