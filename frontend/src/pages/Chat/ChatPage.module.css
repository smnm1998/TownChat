.container {
    @apply flex flex-col h-screen bg-gray-100;
}

.header {
    @apply bg-white py-7 px-7 flex items-center border-b border-gray-200 sticky top-0 z-10 relative;
}

.backButton {
    @apply p-2 rounded-full hover:bg-gray-100 text-gray-700 absolute left-4;
}

.storeName {
    @apply text-lg font-medium text-gray-800 w-full text-center truncate;
}

.messageContainer {
    @apply flex-1 p-4 overflow-y-auto space-y-4 pb-6;
}

.message {
    @apply flex mb-4 max-w-xs;
    width: fit-content; /* 컨텐츠에 맞게 너비 조정 */
}

.userMessage {
    @apply ml-auto justify-end; /* 오른쪽 정렬을 위해 justify-end 추가 */
    flex-direction: row-reverse; /* 사용자 메시지는 요소 순서를 반대로 */
}

.botMessage {
    @apply mr-auto;
}

.errorMessage .messageText {
    @apply bg-red-50 text-red-600;
}

.botAvatar {
    @apply w-10 h-10 mr-2 flex-shrink-0 rounded-full overflow-hidden bg-gray-200;
}

.avatarImage {
    @apply w-full h-full object-cover;
}

.messageContent {
    @apply flex flex-col;
    max-width: 100%; /* 내용이 넘치지 않도록 */
}

.messageText {
    @apply p-3 rounded-lg;
}

.userMessage .messageText {
    @apply bg-yellow-500 text-white rounded-t-lg rounded-bl-lg;
    align-self: flex-end; /* Flex 컨테이너 내에서 끝(오른쪽)에 정렬 */
}

.botMessage .messageText {
    @apply bg-gray-200 text-gray-800 rounded-t-lg rounded-br-lg;
}

.messageTime {
    @apply text-xs text-gray-500 mt-1;
}

.userMessage .messageTime {
    @apply text-right;
}

.inputContainer {
    @apply p-4 bg-white border-t border-gray-200 flex items-center sticky bottom-0;
}

.messageInput {
    @apply flex-1 p-3 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-yellow-500;
}

.sendButton {
    @apply p-3 ml-2 rounded-full bg-yellow-500 text-white;
}

.sendButton.disabled {
    @apply bg-gray-300 cursor-not-allowed;
}

.typingIndicator {
    @apply flex items-center space-x-1 p-2 mt-1 rounded-lg;
    max-width: 60px;
}

.typingIndicator span {
    @apply w-2 h-2 rounded-full bg-gray-400;
    animation: bounce 1.4s infinite ease-in-out both;
}

.typingIndicator span:nth-child(1) {
    animation-delay: -0.32s;
}

.typingIndicator span:nth-child(2) {
    animation-delay: -0.16s;
}

.loadingContainer, .errorContainer {
    @apply flex flex-col items-center justify-center h-full;
}

.loading {
    @apply text-gray-500 animate-pulse;
}

.error {
    @apply text-red-500 mb-4 text-center;
}

.retryButton {
    @apply px-4 py-2 bg-yellow-500 text-white rounded-md hover:bg-yellow-600 transition-colors;
}

.markdownContent {
    word-break: break-word; /* 긴 텍스트 줄바꿈 */
    white-space: pre-wrap;  /* 마크다운 내 공백/줄바꿈 유지 */
    line-height: 1.6;       /* 기본 줄 간격 */
}

/* --- 블록 레벨 요소 기본 간격 --- */
.markdownContent > :where(p, h4, ul, ol, blockquote, hr, .markdown-info-item.standalone-info) {
    margin-top: 0.5rem;
    margin-bottom: 0.5rem;
}

.markdownContent > :first-child {
    margin-top: 0;
}

.markdownContent > :last-child {
    /* @apply mb-0; -> */ margin-bottom: 0;
}

/* --- 텍스트 블록 (문단, 헤딩) --- */
.markdownContent p {
    /* 기본 마진 외 특별한 스타일 없음 */
}

.markdownContent h4.markdown-heading {
    /* @apply text-lg font-semibold text-gray-800; -> */
    font-size: 1.125rem; /* Tailwind text-lg */
    font-weight: 600;   /* Tailwind font-semibold */
    /* text-gray-800 제거 */
    /* @apply mt-4 mb-2; -> */ margin-top: 1rem; margin-bottom: 0.5rem;
}

.markdownContent ul,
.markdownContent ol { /* 순서 있는 리스트도 기본 스타일 적용 */
    /* @apply my-2; -> */ margin-top: 0.5rem; margin-bottom: 0.5rem;
    list-style-position: outside;
    padding-left: 1.75rem; /* Tailwind pl-7 정도의 들여쓰기 */
}
.markdownContent ul {
    list-style-type: disc; /* 기본 불릿 */
}
.markdownContent ol {
    list-style-type: decimal; /* 숫자 불릿 */
}

.markdownContent li {
    /* @apply mb-2 p-3 rounded-md border border-gray-200 bg-gray-50; -> 장식 제거 */
    /* @apply mb-0.5; -> */ margin-bottom: 0.125rem; /* Tailwind mb-0.5, 아이템 간 최소 간격 */
}
.markdownContent li:last-child {
    /* @apply mb-0; -> */ margin-bottom: 0;
}

/* "키: 값" 정보 아이템 내 키/값 스타일 (폰트 두께 등 구조 표현) */
.markdownContent .markdown-info-item {
    /* @apply flex flex-wrap; -> */ display: flex; flex-wrap: wrap; /* 기본적인 flex 구조는 유지 */
}
.markdownContent .markdown-info-key {
    /* @apply font-semibold text-gray-700 mr-2; -> */
    font-weight: 600; /* Tailwind font-semibold */
    /* text-gray-700 제거 */
    margin-right: 0.5rem; /* Tailwind mr-2 */
}
.markdownContent .markdown-info-value {
    /* @apply text-gray-600; -> 색상 제거 */
}

/* " - " 패턴으로 생성된 리스트의 소개 문구 스타일 */
.markdownContent .markdown-list-intro {
    /* @apply mb-2 font-semibold text-gray-700; -> */
    margin-bottom: 0.5rem; /* Tailwind mb-2 */
    font-weight: 600;     /* Tailwind font-semibold */
    /* text-gray-700 제거 */
    /* @apply mt-0; -> */ margin-top: 0;
}

/* --- 기타 블록 요소 --- */
.markdownContent .markdown-hr {
    /* @apply border-t border-gray-300; -> */
    border-top-width: 1px;
    /* border-gray-300 (색상) 제거, 기본 브라우저 색상 사용 */
    /* @apply my-4; -> */ margin-top: 1rem; margin-bottom: 1rem;
}

.markdownContent blockquote {
    /* @apply border-l-4 border-gray-300 pl-4 py-2 italic text-gray-600; -> */
    /* border-l-4 (두께) 및 pl-4 (패딩)는 구조 표현에 도움 */
    border-left-width: 4px;
    padding-left: 1rem; /* Tailwind pl-4 */
    padding-top: 0.5rem; /* Tailwind py-2 */
    padding-bottom: 0.5rem; /* Tailwind py-2 */
    font-style: italic;
    /* border-gray-300, text-gray-600 (색상) 제거 */
    /* my-2는 공통 마진 규칙 따름 */
    margin-left: 0.5rem; /* 인용구 들여쓰기 느낌 */
}
.markdownContent blockquote p {
    /* @apply my-0; -> */ margin-top: 0; margin-bottom: 0;
}

/* --- 인라인 요소 --- */
.markdownContent code {
    /* @apply bg-gray-200 text-sm text-red-600 px-1 py-0.5 rounded font-mono; -> */
    /* bg-gray-200, text-red-600 (색상/배경) 제거 */
    font-size: 0.875rem; /* Tailwind text-sm */
    padding: 0.125rem 0.25rem; /* Tailwind px-1 py-0.5 정도 */
    /* rounded 제거 */
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; /* Tailwind font-mono */
    border: 1px solid #ccc; /* 코드임을 나타내는 최소한의 테두리 (선택적) */
}

.markdownContent del {
    /* @apply text-gray-500; -> 색상 제거 */
    text-decoration-line: line-through; /* 브라우저 기본 스타일 사용 */
}

.markdownContent a {
    /* @apply text-blue-600 hover:underline; -> */
    /* text-blue-600 (색상) 제거, 브라우저 기본 링크 색상 사용 */
    text-decoration-line: underline;
}
.markdownContent a:hover {
    /* 추가적인 hover 스타일 (선택적) */
}

.markdownContent .hashtag {
    /* @apply text-indigo-600 font-medium; -> */
    /* text-indigo-600 (색상) 제거 */
    font-weight: 500; /* Tailwind font-medium */
}

@keyframes bounce {
    0%, 80%, 100% {
        transform: scale(0);
    }
    40% {
        transform: scale(1.0);
    }
}

.cursor {
    display: inline-block;
    width: 2px;
    height: 1em;
    background-color: currentColor;
    margin-left: 2px;
    animation: blink 1s infinite;
}

@keyframes blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0; }
}